<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Localization | OpenMod Docs </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Localization | OpenMod Docs ">
    <meta name="generator" content="docfx 2.56.6.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/night-owl.min.css">
    <link rel="stylesheet" href="../../styles/colors.css">
    <link rel="stylesheet" href="../../styles/discord.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>

  <body>
        <div class="top-navbar">

            <a href="javascript:void(0);" class="burger-icon" onclick="toggleMenu()">
                <svg name="Hamburger" style="vertical-align: middle;" width="24" height="24" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M20 6H4V9H20V6ZM4 10.999H20V13.999H4V10.999ZM4 15.999H20V18.999H4V15.999Z"></path></svg>
            </a>

            
            <a class="brand" href="../../index.html">
              <img src="../../logo.png" alt="OpenMod Docs" class="logomark">
              <span class="brand-title">OpenMod Docs</span>
            </a>
        </div>

        <div class="body-content">

            <div id="blackout" class="blackout" onclick="toggleMenu()"></div>

            <nav id="sidebar" role="navigation">

                <div class="sidebar">
                    
                    
                    
                    
                    <div>
                      
                      <a class="brand" href="../../index.html">
                        <img src="../../logo.png" alt="OpenMod Docs" class="logomark">
                        <span class="brand-title">OpenMod Docs</span>
                      </a>
                      <div id="navbar">
                    
                      </div>
                    
                    </div>


                    <div class="sidebar-item-separator"></div>

                        
                        <div id="sidetoggle">
                          <div id="sidetoc"></div>
                        </div>

                </div>

                <div class="footer">
                  OpenMod .NET Plugin Framework.
                  
                </div>
            </nav>

            <main class="main-panel">

                <div role="main" class="hide-when-search">

                        
                        <div class="subnav navbar navbar-default">
                          <div class="container hide-when-search" id="breadcrumb">
                            <ul class="breadcrumb">
                              <li></li>
                            </ul>
                          </div>
                        </div>

                    <article class="content wrap" id="_content" data-uid="">
<h1 id="localization">Localization</h1>

<p>Localization allows users to customize and translate your plugins messages.<br>
This is achieved through the translations.yaml file and the IStringLocalizer service.</p>
<div class="WARNING">
<h5>Warning</h5>
<p>The <strong>&lt;RootNamespace&gt;</strong> and <strong>&lt;AssemblyName&gt;</strong> properties in the plugins .csproj file must be equal, otherwise the <code>IStringLocalizer</code> service will not work.</p>
</div>
<h2 id="adding-the-translationsyaml">Adding the translations.yaml</h2>
<p>Create a new file called &quot;translations.yaml&quot; inside your project's root directory.<br>
After that, add the following to your .csproj file:</p>
<pre><code class="lang-xml">&lt;ItemGroup&gt;
  &lt;EmbeddedResource Include=&quot;translations.yaml&quot; /&gt;
&lt;/ItemGroup&gt;
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>If you created your plugin project using one of the templates, the translations.yaml file will be already set up.</p>
</div>
<h2 id="using-istringlocalizer-for-localization">Using IStringLocalizer for localization</h2>
<p>Assume you want to localize the following command:</p>
<pre><code class="lang-c#">[Command(&quot;awesome&quot;)]
public class AwesomeCommand : Command
{
    public AwesomeCommand(IServiceProvider serviceProvider) : base(serviceProvider)
    {

    }

    public async Task OnExecuteAsync()
    {
        var amount = Context.Parameters.Get&lt;int&gt;(0);

        await PrintAsync($&quot;{Actor.DisplayName} is {amount}x awesome!&quot;);
    }
}
</code></pre>
<p>Adjust the command to use the IStringLocalizer service:</p>
<pre><code class="lang-c#">[Command(&quot;awesome&quot;)]
public class AwesomeCommand : Command
{
    private readonly IStringLocalizer m_StringLocalizer;

    public AwesomeCommand(
        IStringLocalizer stringLocalizer, // Injects the IStringLocalizer service 
        IServiceProvider serviceProvider) : base(serviceProvider)
    {
        m_StringLocalizer = stringLocalizer;
    }

    public async Task OnExecuteAsync()
    {
        var count = Context.Parameters.Get&lt;int&gt;(0);

        // Prints the localized messages.
        await PrintAsync(m_StringLocalizer[&quot;commands:awesome&quot;, new { Actor = Actor, Amount = amount }]);
    }
}
</code></pre>
<p><code>commands:awesome</code> defines the key for the translation. The IStringLocalizer services uses the key as the path to the value in the yaml file. You can use any valid path as key, such as <code>messages:awesome</code>, just <code>awesome</code>.</p>
<p><code>new { Actor = Actor, Amount = amount }</code> sets the arguments for the message.</p>
<p>Add the translation to the <code>translations.yaml</code>:</p>
<pre><code class="lang-yaml">commands: 
  awesome: &quot;{Actor.DisplayName} is {Amount}x awesome!&quot;
</code></pre>
<p>Notice how we can access the properties of the Actor parameter by calling <code>Actor.DisplayName</code>. The IStringLocalizer uses SmartFormat.NET for parsing arguments. See the <a href="https://github.com/axuno/SmartFormat/wiki">SmartFormat.NET wiki</a> for more information.</p>
</article>
              
                </div>
            </main>
        </div>

        
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<script type="text/javascript" src="../../styles/jquery.twbsPagination.js"></script>
<script type="text/javascript" src="../../styles/url.min.js"></script>
<!--<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>-->
<script type="text/javascript" src="../../styles/docfx.js"></script>
<script type="text/javascript" src="../../styles/main.js"></script>

    </body>

</html>
